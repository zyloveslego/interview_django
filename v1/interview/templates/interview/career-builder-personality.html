{% extends 'interview/nav.html' %}

{% block header %}
<head>
    {% load static %}
    <meta charset="utf-8">
    <title>Career Path Builder - Personality</title>
    <meta content="width=device-width, initial-scale=1" name="viewport">
    <link rel="stylesheet" type="text/css" href="{% static 'interview/css/career-builder-personality.css' %}">
    <link rel="stylesheet" type="text/css" href="{% static 'interview/css/nav.css' %}">
    <style>
        body {
            -webkit-font-smoothing: antialiased;
            -moz-osx-font-smoothing: grayscale;
        }
    </style>
    <script src="https://kit.fontawesome.com/1a12d6fc49.js" crossorigin="anonymous"></script>
</head>

{% endblock %}

{% block content %}

<main>
      <!--Spinner-->
      <div id="spinner">
        <div class="loadingio-spinner-spinner-fnpk4eprp3r">
            <div class="ldio-pal3955r1rq">
                <div></div>
                <div></div>
                <div></div>
                <div></div>
                <div></div>
                <div></div>
                <div></div>
                <div></div>
                <div></div>
                <div></div>
                <div></div>
                <div></div>
            </div>
        </div>
        <div>
            <p>Your Answer is submitted!<br> Coach Monkey is assessing your answer...</p>
        </div>
    </div>

    <section id="sideNavContainer">
        <p id="sidemenu-background"><i class="fa-regular fa-circle-check" id="first-icon"></i>Background</p>
        <p id="sidemenu-interests"><i class="fa-regular fa-circle-check" id="second-icon"></i>Interests</p>
        <p id="sidemenu-preferences"><i class="fa-regular fa-circle-check" id="third-icon"></i>Preferences</p>
        <p id="sidemenu-personality"><i class="fa-regular fa-circle-check" id="forth-icon"></i>Personality</p>
    </section>

    <section id="mainContent">
        <div id="tell-us-about-yourself-container">
            <div class="theBrownVerticalDecoBar">
                <div id="tell-us-about-yourself">Tell us about yourself, we will gather your information and provide
                    career track recommendations based on your answer.
                </div>
            </div>
        </div>

        <div id="select-interests" class="transparentContainerBox">
            <div id="select-interests-inner-container">
                <h1 id="title-interests">Personality</h1>
                <div id="whatMBTI">What is your Meyers-Briggs Type Indicator (MBTI)?
                </div>

                <div id="personalityMatrix">
                    <div class="each-personality">
                        <div class="inline-element optionbox1">Introvert</div>
                        <div class="inline-element pctbox"><span class="percentage-display">50%</span></div>
                        <input class="inline-element" type="range" id="slider1" name="slider1" min="0" max="100"
                               step="1" value="50">
                        <div class="inline-element pctbox"><span class="remaining-percentage-display">50%</span></div>
                        <div class="inline-element optionbox2">Extravert</div>
                    </div>

                    <div class="each-personality">
                        <div class="inline-element optionbox1">Intuitive</div>
                        <div class="inline-element pctbox"><span class="percentage-display">50%</span></div>
                        <input class="inline-element" type="range" id="slider1" name="slider1" min="0" max="100"
                               step="1" value="50">
                        <div class="inline-element pctbox"><span class="remaining-percentage-display">50%</span></div>
                        <div class="inline-element optionbox2">Observant</div>
                    </div>

                    <div class="each-personality">
                        <div class="inline-element optionbox1">Thinking</div>
                        <div class="inline-element pctbox"><span class="percentage-display">50%</span></div>
                        <input class="inline-element" type="range" id="slider1" name="slider1" min="0" max="100"
                               step="1" value="50">
                        <div class="inline-element pctbox"><span class="remaining-percentage-display">50%</span></div>
                        <div class="inline-element optionbox2">Feeling</div>
                    </div>

                    <div class="each-personality">
                        <div class="inline-element optionbox1">Judging</div>
                        <div class="inline-element pctbox"><span class="percentage-display">50%</span></div>
                        <input class="inline-element" type="range" id="slider1" name="slider1" min="0" max="100"
                               step="1" value="50">
                        <div class="inline-element pctbox"><span class="remaining-percentage-display">50%</span></div>
                        <div class="inline-element optionbox2">Prospecting</div>
                    </div>
                </div>
            </div>
        </div>

        <script>
            // Add an event listener for each slider to update the percentage display
            const sliders = document.querySelectorAll('input[type="range"]');
            sliders.forEach((slider, index) => {
                const percentageDisplay = slider.parentElement.querySelector('.percentage-display');
                const remainingPercentageDisplay = slider.parentElement.querySelector('.remaining-percentage-display');

                // Update the percentage display when the slider value changes
                slider.addEventListener('input', () => {
                    const percentage = (slider.value - slider.min) / (slider.max - slider.min) * 100;
                    percentageDisplay.textContent = `${percentage.toFixed(0)}%`;
                    remainingPercentageDisplay.textContent = `${100 - percentage.toFixed(0)}%`;
                });
            });
        </script>


        <div id="next-button-container">
            <button id="next-button-two" class="submit-button">Submit<i
                    class="fa-regular fa-circle-right"></i></button>
                    <!--href="{% url 'interview:career_results' %}"-->
        </div>
    </section>
    

    <!--Showing spinner for 2 sec, then go to Result Page-->
    <script>
const btn = document.getElementById('next-button-two');
const spinner = document.getElementById('spinner');
const sideNavContainer = document.getElementById('sideNavContainer');
const mainContent = document.getElementById('mainContent');

btn.addEventListener('click', () => {
    spinner.style.display = 'block';
    sideNavContainer.style.display = 'none';
    mainContent.style.display = 'none';

  setTimeout(() => {
    window.location.href = "{% url 'interview:career_results' %}";
  }, 2000);
});
    </script>

</main>

{% endblock %}